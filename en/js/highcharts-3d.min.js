(function(a){"object"===typeof module&&module.exports?module.exports=a:a(Highcharts)})(function(a){(function(b){var d=b.deg2rad,c=b.pick;b.perspective=function(k,l,E){var j=l.options.chart.options3d,s=E?l.inverted:!1,r=l.plotWidth/2,i=l.plotHeight/2,v=j.depth/2,t=c(j.depth,1)*c(j.viewDistance,0),A=l.scale3d||1,C=d*j.beta*(s?-1:1),j=d*j.alpha*(s?-1:1),o=Math.cos(j),D=Math.cos(-C),B=Math.sin(j),x=Math.sin(-C);E||(r+=l.plotLeft,i+=l.plotTop);return b.map(k,function(f){var g,n;n=(s?f.y:f.x)-r;var e=(s?f.x:f.y)-i,h=(f.z||0)-v;g=D*n-x*h;f=-B*x*n+o*e-D*B*h;n=o*x*n+B*e+o*D*h;e=0<t&&t<Number.POSITIVE_INFINITY?t/(n+v+t):1;g=g*e*A+r;f=f*e*A+i;return{x:s?f:g,y:s?g:f,z:n*A+v}})};b.pointCameraDistance=function(f,e){var h=e.options.chart.options3d,g=e.plotWidth/2;e=e.plotHeight/2;h=c(h.depth,1)*c(h.viewDistance,0)+h.depth;return Math.sqrt(Math.pow(g-f.plotX,2)+Math.pow(e-f.plotY,2)+Math.pow(h-f.plotZ,2))}})(a);(function(T){function D(e){var g=0,f,d;for(f=0;f<e.length;f++){d=(f+1)%e.length,g+=e[f].x*e[d].y-e[d].x*e[f].y}return g/2}function L(d){var f=0,e;for(e=0;e<d.length;e++){f+=d[e].z}return d.length?f/d.length:0}function J(t,r,k,w,u,m,q,p){var g=[],n=m-u;return m>u&&m-u>Math.PI/2+0.0001?(g=g.concat(J(t,r,k,w,u,u+Math.PI/2,q,p)),g=g.concat(J(t,r,k,w,u+Math.PI/2,m,q,p))):m<u&&u-m>Math.PI/2+0.0001?(g=g.concat(J(t,r,k,w,u,u-Math.PI/2,q,p)),g=g.concat(J(t,r,k,w,u-Math.PI/2,m,q,p))):["C",t+k*Math.cos(u)-k*x*n*Math.sin(u)+q,r+w*Math.sin(u)+w*x*n*Math.cos(u)+p,t+k*Math.cos(m)+k*x*n*Math.sin(m)+q,r+w*Math.sin(m)-w*x*n*Math.cos(m)+p,t+k*Math.cos(m)+q,r+w*Math.sin(m)+p]}var K=Math.cos,v=Math.PI,I=Math.sin,O=T.animObject,N=T.charts,F=T.color,Q=T.defined,P=T.deg2rad,R=T.each,S=T.extend,M=T.inArray,o=T.map,j=T.merge,i=T.perspective,s=T.pick,E=T.SVGElement,l=T.SVGRenderer,A=T.wrap,x=4*(Math.sqrt(2)-1)/3/(v/2);l.prototype.toLinePath=function(c,d){var e=[];R(c,function(f){e.push("L",f.x,f.y)});c.length&&(e[0]="M",d&&e.push("Z"));return e};l.prototype.cuboid=function(d){var f=this.g(),e=f.destroy;d=this.cuboidPath(d);f.attr({"stroke-linejoin":"round"});f.front=this.path(d[0]).attr({"class":"highcharts-3d-front",zIndex:d[3]}).add(f);f.top=this.path(d[1]).attr({"class":"highcharts-3d-top",zIndex:d[4]}).add(f);f.side=this.path(d[2]).attr({"class":"highcharts-3d-side",zIndex:d[5]}).add(f);f.fillSetter=function(c){this.front.attr({fill:c});this.top.attr({fill:F(c).brighten(0.1).get()});this.side.attr({fill:F(c).brighten(-0.1).get()});this.color=c;return this};f.opacitySetter=function(c){this.front.attr({opacity:c});this.top.attr({opacity:c});this.side.attr({opacity:c});return this};f.attr=function(c){if(c.shapeArgs||Q(c.x)){c=this.renderer.cuboidPath(c.shapeArgs||c),this.front.attr({d:c[0],zIndex:c[3]}),this.top.attr({d:c[1],zIndex:c[4]}),this.side.attr({d:c[2],zIndex:c[5]})}else{return T.SVGElement.prototype.attr.call(this,c)}return this};f.animate=function(g,k,h){Q(g.x)&&Q(g.y)?(g=this.renderer.cuboidPath(g),this.front.attr({zIndex:g[3]}).animate({d:g[0]},k,h),this.top.attr({zIndex:g[4]}).animate({d:g[1]},k,h),this.side.attr({zIndex:g[5]}).animate({d:g[2]},k,h),this.attr({zIndex:-g[6]})):g.opacity?(this.front.animate(g,k,h),this.top.animate(g,k,h),this.side.animate(g,k,h)):E.prototype.animate.call(this,g,k,h);return this};f.destroy=function(){this.front.destroy();this.top.destroy();this.side.destroy();return e.call(this)};f.attr({zIndex:-d[6]});return f};l.prototype.cuboidPath=function(u){function t(c){return k[c]}var w=u.x,m=u.y,r=u.z,p=u.height,g=u.width,n=u.depth,k=[{x:w,y:m,z:r},{x:w+g,y:m,z:r},{x:w+g,y:m+p,z:r},{x:w,y:m+p,z:r},{x:w,y:m+p,z:r+n},{x:w+g,y:m+p,z:r+n},{x:w+g,y:m,z:r+n},{x:w,y:m,z:r+n}],k=i(k,N[this.chartIndex],u.insidePlotArea),r=function(c,d){var e=[];c=o(c,t);d=o(d,t);0>D(c)?e=c:0>D(d)&&(e=d);return e};u=r([3,2,1,0],[7,6,5,4]);w=[4,5,2,3];m=r([1,6,7,0],w);r=r([1,2,5,6],[0,7,4,3]);return[this.toLinePath(u,!0),this.toLinePath(m,!0),this.toLinePath(r,!0),L(u),L(m),L(r),9000000000*L(o(w,t))]};T.SVGRenderer.prototype.arc3d=function(e){function g(h){var k=!1,n={},m;for(m in h){-1!==M(m,f)&&(n[m]=h[m],delete h[m],k=!0)}return k?n:!1}var c=this.g(),b=c.renderer,f="x y r innerR start end".split(" ");e=j(e);e.alpha*=P;e.beta*=P;c.top=b.path();c.side1=b.path();c.side2=b.path();c.inn=b.path();c.out=b.path();c.onAdd=function(){var d=c.parentGroup,h=c.attr("class");c.top.add(c);R(["out","inn","side1","side2"],function(k){c[k].addClass(h+" highcharts-3d-side").add(d)})};c.setPaths=function(d){var h=c.renderer.arc3dPath(d),k=100*h.zTop;c.attribs=d;c.top.attr({d:h.top,zIndex:h.zTop});c.inn.attr({d:h.inn,zIndex:h.zInn});c.out.attr({d:h.out,zIndex:h.zOut});c.side1.attr({d:h.side1,zIndex:h.zSide1});c.side2.attr({d:h.side2,zIndex:h.zSide2});c.zIndex=k;c.attr({zIndex:k});d.center&&(c.top.setRadialReference(d.center),delete d.center)};c.setPaths(e);c.fillSetter=function(d){var h=F(d).brighten(-0.1).get();this.fill=d;this.side1.attr({fill:h});this.side2.attr({fill:h});this.inn.attr({fill:h});this.out.attr({fill:h});this.top.attr({fill:d});return this};R(["opacity","translateX","translateY","visibility"],function(d){c[d+"Setter"]=function(h,k){c[k]=h;R(["out","inn","side1","side2","top"],function(m){c[m].attr(k,h)})}});A(c,"attr",function(d,m){var k;"object"===typeof m&&(k=g(m))&&(S(c.attribs,k),c.setPaths(c.attribs));return d.apply(this,[].slice.call(arguments,1))});A(c,"animate",function(d,m,t,n){var k,r=this.attribs,p;delete m.center;delete m.z;delete m.depth;delete m.alpha;delete m.beta;p=O(s(t,this.renderer.globalAnimation));p.duration&&(m=j(m),k=g(m),m.dummy=1,k&&(p.step=function(h,q){function u(w){return r[w]+(s(k[w],r[w])-r[w])*q.pos}"dummy"===q.prop&&q.elem.setPaths(j(r,{x:u("x"),y:u("y"),r:u("r"),innerR:u("innerR"),start:u("start"),end:u("end")}))}),t=p);return d.call(this,m,t,n)});c.destroy=function(){this.top.destroy();this.out.destroy();this.inn.destroy();this.side1.destroy();this.side2.destroy();E.prototype.destroy.call(this)};c.hide=function(){this.top.hide();this.out.hide();this.inn.hide();this.side1.hide();this.side2.hide()};c.show=function(){this.top.show();this.out.show();this.inn.show();this.side1.show();this.side2.show()};return c};l.prototype.arc3dPath=function(ai){function aj(c){c%=2*Math.PI;c>Math.PI&&(c=2*Math.PI-c);return c}var ah=ai.x,ac=ai.y,ag=ai.start,af=ai.end-0.00001,ae=ai.r,Z=ai.innerR,p=ai.depth,ad=ai.alpha,ab=ai.beta,n=Math.cos(ag),X=Math.sin(ag);ai=Math.cos(af);var m=Math.sin(af),H=ae*Math.cos(ab),ae=ae*Math.cos(ad),V=Z*Math.cos(ab),W=Z*Math.cos(ad),Z=p*Math.sin(ab),aa=p*Math.sin(ad),p=["M",ah+H*n,ac+ae*X],p=p.concat(J(ah,ac,H,ae,ag,af,0,0)),p=p.concat(["L",ah+V*ai,ac+W*m]),p=p.concat(J(ah,ac,V,W,af,ag,0,0)),p=p.concat(["Z"]),u=0<ab?Math.PI/2:0,ab=0<ad?0:Math.PI/2,u=ag>-u?ag:af>-u?-u:ag,U=af<v-ab?af:ag<v-ab?v-ab:af,Y=2*v-ab,ad=["M",ah+H*K(u),ac+ae*I(u)],ad=ad.concat(J(ah,ac,H,ae,u,U,0,0));af>Y&&ag<Y?(ad=ad.concat(["L",ah+H*K(U)+Z,ac+ae*I(U)+aa]),ad=ad.concat(J(ah,ac,H,ae,U,Y,Z,aa)),ad=ad.concat(["L",ah+H*K(Y),ac+ae*I(Y)]),ad=ad.concat(J(ah,ac,H,ae,Y,af,0,0)),ad=ad.concat(["L",ah+H*K(af)+Z,ac+ae*I(af)+aa]),ad=ad.concat(J(ah,ac,H,ae,af,Y,Z,aa)),ad=ad.concat(["L",ah+H*K(Y),ac+ae*I(Y)]),ad=ad.concat(J(ah,ac,H,ae,Y,U,0,0))):af>v-ab&&ag<v-ab&&(ad=ad.concat(["L",ah+H*Math.cos(U)+Z,ac+ae*Math.sin(U)+aa]),ad=ad.concat(J(ah,ac,H,ae,U,af,Z,aa)),ad=ad.concat(["L",ah+H*Math.cos(af),ac+ae*Math.sin(af)]),ad=ad.concat(J(ah,ac,H,ae,af,U,0,0)));ad=ad.concat(["L",ah+H*Math.cos(U)+Z,ac+ae*Math.sin(U)+aa]);ad=ad.concat(J(ah,ac,H,ae,U,u,Z,aa));ad=ad.concat(["Z"]);ab=["M",ah+V*n,ac+W*X];ab=ab.concat(J(ah,ac,V,W,ag,af,0,0));ab=ab.concat(["L",ah+V*Math.cos(af)+Z,ac+W*Math.sin(af)+aa]);ab=ab.concat(J(ah,ac,V,W,af,ag,Z,aa));ab=ab.concat(["Z"]);n=["M",ah+H*n,ac+ae*X,"L",ah+H*n+Z,ac+ae*X+aa,"L",ah+V*n+Z,ac+W*X+aa,"L",ah+V*n,ac+W*X,"Z"];ah=["M",ah+H*ai,ac+ae*m,"L",ah+H*ai+Z,ac+ae*m+aa,"L",ah+V*ai+Z,ac+W*m+aa,"L",ah+V*ai,ac+W*m,"Z"];m=Math.atan2(aa,-Z);ac=Math.abs(af+m);ai=Math.abs(ag+m);ag=Math.abs((ag+af)/2+m);ac=aj(ac);ai=aj(ai);ag=aj(ag);ag*=100000;af=100000*ai;ac*=100000;return{top:p,zTop:100000*Math.PI+1,out:ad,zOut:Math.max(ag,af,ac),inn:ab,zInn:Math.max(ag,af,ac),side1:n,zSide1:0.99*ac,side2:ah,zSide2:0.99*af}}})(a);(function(l){function b(E,B){var A=E.plotLeft,C=E.plotWidth+A,D=E.plotTop,x=E.plotHeight+D,z=A+E.plotWidth/2,y=D+E.plotHeight/2,s=Number.MAX_VALUE,w=-Number.MAX_VALUE,u=Number.MAX_VALUE,v=-Number.MAX_VALUE,n,F=1;n=[{x:A,y:D,z:0},{x:A,y:D,z:B}];d([0,1],function(f){n.push({x:C,y:n[f].y,z:n[f].z})});d([0,1,2,3],function(f){n.push({x:n[f].x,y:x,z:n[f].z})});n=o(n,E,!1);d(n,function(f){s=Math.min(s,f.x);w=Math.max(w,f.x);u=Math.min(u,f.y);v=Math.max(v,f.y)});A>s&&(F=Math.min(F,1-Math.abs((A+z)/(s+z))%1));C<w&&(F=Math.min(F,(C-z)/(w-z)));D>u&&(F=0>u?Math.min(F,(D+y)/(-u+D+y)):Math.min(F,1-(D+y)/(u+y)%1));x<v&&(F=Math.min(F,Math.abs((x-y)/(v-y))));return F}var h=l.Chart,d=l.each,e=l.merge,o=l.perspective,c=l.pick,j=l.wrap;h.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled};h.prototype.propsRequireDirtyBox.push("chart.options3d");h.prototype.propsRequireUpdateSeries.push("chart.options3d");l.wrap(l.Chart.prototype,"isInsidePlot",function(f){return this.is3d()||f.apply(this,[].slice.call(arguments,1))});var i=l.getOptions();e(!0,i,{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,frame:{bottom:{size:1},side:{size:1},back:{size:1}}}}});j(h.prototype,"setClassName",function(f){f.apply(this,[].slice.call(arguments,1));this.is3d()&&(this.container.className+=" highcharts-3d-chart")});l.wrap(l.Chart.prototype,"setChartSize",function(g){var m=this.options.chart.options3d;g.apply(this,[].slice.call(arguments,1));if(this.is3d()){var k=this.inverted,n=this.clipBox,f=this.margin;n[k?"y":"x"]=-(f[3]||0);n[k?"x":"y"]=-(f[0]||0);n[k?"height":"width"]=this.chartWidth+(f[3]||0)+(f[1]||0);n[k?"width":"height"]=this.chartHeight+(f[0]||0)+(f[2]||0);this.scale3d=1;!0===m.fitToPlot&&(this.scale3d=b(this,m.depth))}});j(h.prototype,"redraw",function(f){this.is3d()&&(this.isDirtyBox=!0);f.apply(this,[].slice.call(arguments,1))});j(h.prototype,"renderSeries",function(f){var g=this.series.length;if(this.is3d()){for(;g--;){f=this.series[g],f.translate(),f.render()}}else{f.call(this)}});h.prototype.retrieveStacks=function(g){var m=this.series,k={},n,f=1;d(this.series,function(p){n=c(p.options.stack,g?0:m.length-1-p.index);k[n]?k[n].series.push(p):(k[n]={series:[p],position:f},f++)});k.totalStacks=f+1;return k}})(a);(function(w){var b,l=w.Axis,i=w.Chart,j=w.each,x=w.extend,h=w.merge,s=w.perspective,o=w.pick,c=w.splat,v=w.Tick,t=w.wrap;t(l.prototype,"setOptions",function(e,d){e.call(this,d);this.chart.is3d()&&(e=this.options,e.tickWidth=o(e.tickWidth,0),e.gridLineWidth=o(e.gridLineWidth,1))});t(l.prototype,"render",function(H){H.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var G=this.chart,F=G.renderer,E=G.options.chart.options3d,D=E.frame,C=D.bottom,B=D.back,D=D.side,A=E.depth,r=this.height,u=this.width,z=this.left,y=this.top;this.isZAxis||(this.horiz?(B={x:z,y:y+(G.xAxis[0].opposite?-C.size:r),z:0,width:u,height:C.size,depth:A,insidePlotArea:!1},this.bottomFrame?this.bottomFrame.animate(B):(this.bottomFrame=F.cuboid(B).attr({"class":"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:G.yAxis[0].reversed&&0<E.alpha?4:-1}).add(),this.bottomFrame.attr({fill:C.color||"none",stroke:C.color||"none"}))):(E={x:z+(G.yAxis[0].opposite?0:-D.size),y:y+(G.xAxis[0].opposite?-C.size:0),z:A,width:u+D.size,height:r+C.size,depth:B.size,insidePlotArea:!1},this.backFrame?this.backFrame.animate(E):(this.backFrame=F.cuboid(E).attr({"class":"highcharts-3d-frame highcharts-3d-frame-back",zIndex:-3}).add(),this.backFrame.attr({fill:B.color||"none",stroke:B.color||"none"})),G={x:z+(G.yAxis[0].opposite?u:-D.size),y:y+(G.xAxis[0].opposite?-C.size:0),z:0,width:D.size,height:r+C.size,depth:A,insidePlotArea:!1},this.sideFrame?this.sideFrame.animate(G):(this.sideFrame=F.cuboid(G).attr({"class":"highcharts-3d-frame highcharts-3d-frame-side",zIndex:-2}).add(),this.sideFrame.attr({fill:D.color||"none",stroke:D.color||"none"}))))}});t(l.prototype,"getPlotLinePath",function(f){var e=f.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||null===e){return e}var k=this.chart,g=k.options.chart.options3d,k=this.isZAxis?k.plotWidth:g.depth,g=this.opposite;this.horiz&&(g=!g);e=[this.swapZ({x:e[1],y:e[2],z:g?k:0}),this.swapZ({x:e[1],y:e[2],z:k}),this.swapZ({x:e[4],y:e[5],z:k}),this.swapZ({x:e[4],y:e[5],z:g?0:k})];e=s(e,this.chart,!1);return e=this.chart.renderer.toLinePath(e,!1)});t(l.prototype,"getLinePath",function(d){return this.chart.is3d()?[]:d.apply(this,[].slice.call(arguments,1))});t(l.prototype,"getPlotBandPath",function(e){if(!this.chart.is3d()){return e.apply(this,[].slice.call(arguments,1))}var d=arguments,f=d[1],d=this.getPlotLinePath(d[2]);(f=this.getPlotLinePath(f))&&d?f.push("L",d[10],d[11],"L",d[7],d[8],"L",d[4],d[5],"L",d[1],d[2]):f=null;return f});t(v.prototype,"getMarkPath",function(e){var d=e.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d()){return d}d=[this.axis.swapZ({x:d[1],y:d[2],z:0}),this.axis.swapZ({x:d[4],y:d[5],z:0})];d=s(d,this.axis.chart,!1);return d=["M",d[0].x,d[0].y,"L",d[1].x,d[1].y]});t(v.prototype,"getLabelPosition",function(e){var d=e.apply(this,[].slice.call(arguments,1));this.axis.chart.is3d()&&(d=s([this.axis.swapZ({x:d.x,y:d.y,z:0})],this.axis.chart,!1)[0]);return d});w.wrap(l.prototype,"getTitlePosition",function(f){var e=this.chart.is3d(),k,g;e&&(g=this.axisTitleMargin,this.axisTitleMargin=0);k=f.apply(this,[].slice.call(arguments,1));e&&(k=s([this.swapZ({x:k.x,y:k.y,z:0})],this.chart,!1)[0],k[this.horiz?"y":"x"]+=(this.horiz?1:-1)*(this.opposite?-1:1)*g,this.axisTitleMargin=g);return k});t(l.prototype,"drawCrosshair",function(e){var d=arguments;this.chart.is3d()&&d[2]&&(d[2]={plotX:d[2].plotXold||d[2].plotX,plotY:d[2].plotYold||d[2].plotY});e.apply(this,[].slice.call(d,1))});t(l.prototype,"destroy",function(d){j(["backFrame","bottomFrame","sideFrame"],function(e){this[e]&&(this[e]=this[e].destroy())},this);d.apply(this,[].slice.call(arguments,1))});l.prototype.swapZ=function(e,d){if(this.isZAxis){d=d?0:this.chart.plotLeft;var f=this.chart;return{x:d+(f.yAxis[0].opposite?e.z:f.xAxis[0].width-e.z),y:e.y,z:e.x-d}}return e};b=w.ZAxis=function(){this.isZAxis=!0;this.init.apply(this,arguments)};x(b.prototype,l.prototype);x(b.prototype,{setOptions:function(d){d=h({offset:0,lineWidth:0},d);l.prototype.setOptions.call(this,d);this.coll="zAxis"},setAxisSize:function(){l.prototype.setAxisSize.call(this);this.width=this.len=this.chart.options.chart.options3d.depth;this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var e=this,d=e.chart;e.hasVisibleSeries=!1;e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null;e.buildStacks&&e.buildStacks();j(e.series,function(f){if(f.visible||!d.options.chart.ignoreHiddenSeries){e.hasVisibleSeries=!0,f=f.zData,f.length&&(e.dataMin=Math.min(o(e.dataMin,f[0]),Math.min.apply(null,f)),e.dataMax=Math.max(o(e.dataMax,f[0]),Math.max.apply(null,f)))}})}});t(i.prototype,"getAxes",function(e){var d=this,f=this.options,f=f.zAxis=c(f.zAxis||{});e.call(this);d.is3d()&&(this.zAxis=[],j(f,function(g,k){g.index=k;g.isX=!0;(new b(d,g)).setScale()}))})})(a);(function(l){function b(f){var g=f.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&(g.stroke=this.options.edgeColor||g.fill,g["stroke-width"]=o(this.options.edgeWidth,1));return g}function h(f){if(this.chart.is3d()){var g=this.chart.options.plotOptions.column.grouping;void 0===g||g||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0)}f.apply(this,[].slice.call(arguments,1))}var d=l.each,e=l.perspective,o=l.pick,c=l.Series,j=l.seriesTypes,i=l.svg;l=l.wrap;l(j.column.prototype,"translate",function(g){g.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var m=this.chart,k=this.options,n=k.depth||25,f=(k.stacking?k.stack||0:this._i)*(n+(k.groupZPadding||1));!1!==k.grouping&&(f=0);f+=k.groupZPadding||1;d(this.data,function(p){if(null!==p.y){var r=p.shapeArgs,q=p.tooltipPos;p.shapeType="cuboid";r.z=f;r.depth=n;r.insidePlotArea=!0;q=e([{x:q[0],y:q[1],z:f}],m,!0)[0];p.tooltipPos=[q.x,q.y]}});this.z=f}});l(j.column.prototype,"animate",function(g){if(this.chart.is3d()){var m=arguments[1],k=this.yAxis,n=this,f=this.yAxis.reversed;i&&(m?d(n.data,function(p){null!==p.y&&(p.height=p.shapeArgs.height,p.shapey=p.shapeArgs.y,p.shapeArgs.height=1,f||(p.shapeArgs.y=p.stackY?p.plotY+k.translate(p.stackY):p.plotY+(p.negative?-p.height:p.height)))}):(d(n.data,function(p){null!==p.y&&(p.shapeArgs.height=p.height,p.shapeArgs.y=p.shapey,p.graphic&&p.graphic.animate(p.shapeArgs,n.options.animation))}),this.drawDataLabels(),n.animate=null))}else{g.apply(this,[].slice.call(arguments,1))}});l(j.column.prototype,"init",function(k){k.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var p=this.options,n=p.grouping,q=p.stacking,g=o(this.yAxis.options.reversedStacks,!0),m=0;if(void 0===n||n){n=this.chart.retrieveStacks(q);m=p.stack||0;for(q=0;q<n[m].series.length&&n[m].series[q]!==this;q++){}m=10*(n.totalStacks-n[m].position)+(g?q:-q);this.xAxis.reversed||(m=10*n.totalStacks-m)}p.zIndex=m}});l(j.column.prototype,"pointAttribs",b);j.columnrange&&l(j.columnrange.prototype,"pointAttribs",b);l(c.prototype,"alignDataLabel",function(f){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var k=arguments[4],g={x:k.x,y:k.y,z:this.z},g=e([g],this.chart,!0)[0];k.x=g.x;k.y=g.y}f.apply(this,[].slice.call(arguments,1))});j.columnrange&&l(j.columnrange.prototype,"drawPoints",h);l(j.column.prototype,"drawPoints",h)})(a);(function(c){var f=c.deg2rad,d=c.each,g=c.pick,b=c.seriesTypes,e=c.svg;c=c.wrap;c(b.pie.prototype,"translate",function(i){i.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var k=this,j=k.options,m=j.depth||0,n=k.chart.options.chart.options3d,l=n.alpha,o=n.beta,h=j.stacking?(j.stack||0)*m:k._i*m,h=h+m/2;!1!==j.grouping&&(h=0);d(k.data,function(p){var q=p.shapeArgs;p.shapeType="arc3d";q.z=h;q.depth=0.75*m;q.alpha=l;q.beta=o;q.center=k.center;q=(q.end+q.start)/2;p.slicedTranslation={translateX:Math.round(Math.cos(q)*j.slicedOffset*Math.cos(l*f)),translateY:Math.round(Math.sin(q)*j.slicedOffset*Math.cos(l*f))}})}});c(b.pie.prototype.pointClass.prototype,"haloPath",function(h){var i=arguments;return this.series.chart.is3d()?[]:h.call(this,i[1])});c(b.pie.prototype,"pointAttribs",function(h,j,i){h=h.call(this,j,i);i=this.options;this.chart.is3d()&&(h.stroke=i.edgeColor||j.color||this.color,h["stroke-width"]=g(i.edgeWidth,1));return h});c(b.pie.prototype,"drawPoints",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&d(this.points,function(i){var j=i.graphic;if(j){j[i.y&&i.visible?"show":"hide"]()}})});c(b.pie.prototype,"drawDataLabels",function(h){if(this.chart.is3d()){var i=this.chart.options.chart.options3d;d(this.data,function(k){var m=k.shapeArgs,o=m.r,n=(m.start+m.end)/2,p=k.labelPos,j=-o*(1-Math.cos((m.alpha||i.alpha)*f))*Math.sin(n),l=o*(Math.cos((m.beta||i.beta)*f)-1)*Math.cos(n);d([0,2,4],function(q){p[q]+=l;p[q+1]+=j})})}h.apply(this,[].slice.call(arguments,1))});c(b.pie.prototype,"addPoint",function(h){h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&this.update(this.userOptions,!0)});c(b.pie.prototype,"animate",function(h){if(this.chart.is3d()){var l=arguments[1],j=this.options.animation,i=this.center,n=this.group,m=this.markerGroup;e&&(!0===j&&(j={}),l?(n.oldtranslateX=n.translateX,n.oldtranslateY=n.translateY,l={translateX:i[0],translateY:i[1],scaleX:0.001,scaleY:0.001},n.attr(l),m&&(m.attrSetters=n.attrSetters,m.attr(l))):(l={translateX:n.oldtranslateX,translateY:n.oldtranslateY,scaleX:1,scaleY:1},n.animate(l,j),m&&m.animate(l,j),this.animate=null))}else{h.apply(this,[].slice.call(arguments,1))}})})(a);(function(c){var f=c.perspective,d=c.pick,g=c.Point,b=c.seriesTypes,e=c.wrap;e(b.scatter.prototype,"translate",function(i){i.apply(this,[].slice.call(arguments,1));if(this.chart.is3d()){var k=this.chart,j=d(this.zAxis,k.options.zAxis[0]),h=[],n,l,o;for(o=0;o<this.data.length;o++){n=this.data[o],l=j.isLog&&j.val2lin?j.val2lin(n.z):n.z,n.plotZ=j.translate(l),n.isInside=n.isInside?l>=j.min&&l<=j.max:!1,h.push({x:n.plotX,y:n.plotY,z:n.plotZ})}k=f(h,k,!0);for(o=0;o<this.data.length;o++){n=this.data[o],j=k[o],n.plotXold=n.plotX,n.plotYold=n.plotY,n.plotZold=n.plotZ,n.plotX=j.x,n.plotY=j.y,n.plotZ=j.z}}});e(b.scatter.prototype,"init",function(h,j,i){j.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"],this.directTouch=!0);h=h.apply(this,[j,i]);this.chart.is3d()&&(this.tooltipOptions.pointFormat=this.userOptions.tooltip?this.userOptions.tooltip.pointFormat||"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3ez: \x3cb\x3e{point.z}\x3c/b\x3e\x3cbr/\x3e":"x: \x3cb\x3e{point.x}\x3c/b\x3e\x3cbr/\x3ey: \x3cb\x3e{point.y}\x3c/b\x3e\x3cbr/\x3ez: \x3cb\x3e{point.z}\x3c/b\x3e\x3cbr/\x3e");return h});e(b.scatter.prototype,"pointAttribs",function(h,j){var i=h.apply(this,[].slice.call(arguments,1));this.chart.is3d()&&j&&(i.zIndex=c.pointCameraDistance(j,this.chart));return i});e(g.prototype,"applyOptions",function(h){var i=h.apply(this,[].slice.call(arguments,1));this.series.chart.is3d()&&void 0===i.z&&(i.z=0);return i})})(a);(function(b){var d=b.Axis,c=b.SVGRenderer,e=b.VMLRenderer;e&&(b.setOptions({animate:!1}),e.prototype.cuboid=c.prototype.cuboid,e.prototype.cuboidPath=c.prototype.cuboidPath,e.prototype.toLinePath=c.prototype.toLinePath,e.prototype.createElement3D=c.prototype.createElement3D,e.prototype.arc3d=function(f){f=c.prototype.arc3d.call(this,f);f.css({zIndex:f.zIndex});return f},b.VMLRenderer.prototype.arc3dPath=b.SVGRenderer.prototype.arc3dPath,b.wrap(d.prototype,"render",function(f){f.apply(this,[].slice.call(arguments,1));this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color}));this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color}));this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))})(a)});